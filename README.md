# Kodiアドオン：フォトビューア

macOSの写真アプリケーションで管理されている写真をTV画面で閲覧するためのKodiアドオンです。
写真アプリケーションのデータベースを参照し、撮影日、撮影場所、顔画像認識による人物等にしたがって写真やビデオをブラウズできます。

macOS Sequoia（バージョン15.3.2）の写真アプリケーション（バージョン10.0 (741.0.130)）にて動作を確認しています。

はじめに[アドオン設定画面-設定](#アドオン設定画面-設定)で写真ライブラリへのパスを設定してください。


## メイン画面

アドオン起動直後にメイン画面が表示されます。

![メイン画面](/images/01_日付.png)

### 日付

写真の撮影日にしたがって年月日別にブラウズします。

![年選択](images/10_日付/11_年選択.png)

![月選択](images/10_日付/13_月選択.png)

![日選択](images/10_日付/15_日選択.png)

### 日付のコンテクストメニュー

撮影日の絞り込み時に、年または月単位にまとめてブラウズできます。

![年選択のコンテクストメニュー](images/10_日付/12_コンテクストメニュー.png)

![月選択のコンテクストメニュー](images/10_日付/14_コンテクストメニュー.png)

### ピープル

写真からの顔画像認識にしたがって人物別にブラウズします。

![ピープル選択](images/20_ピープル/21_選択.png)

### モーメント

写真からのモーメント認識にしたがってブラウズします。
各モーメントのおおよその位置から、緯度の高い順に（北から順に）表示します。

## 画像一覧

日付、ピープル、モーメントでブラウズした結果が画像一覧として表示されます。

![画像一覧](images/40_一覧/41_画像一覧.png)

## 画像一覧のコンテクストメニュー

各画像のコンテクスメニューから選択して、撮影地周辺の地図や撮影地周辺で撮影された画像を表示できます。

![画像一覧のコンテクストメニュー](images/40_一覧/42_コンテクストメニュー.png)

### 撮影地周辺の地図を表示


### 撮影地周辺の写真を検索



<br/>

## アドオン設定画面

![アドオン設定画面](images/90_アドオン設定.png)
### 写真ライブラリへのパス

写真ライブラリへのパス（デフォルトでは（"/Users/(username)/Pictures/写真ライブラリ.photoslibrary"）を設定してください。




### HEIC画像の表示

iOS11から採用された写真データの形式HEICは、そのままではKodiで表示できないため、これを表示する方法を「サムネイルで代替」「JPEGに変換」から選択してください。それぞれ以下の特徴があります。

|方法|特徴|
|:---|:---|
|サムネイルで代替|サムネイル画像で置き換えます。表示に時間はかかりませんが、画質はよくありません。|
|JPEGに変換|macOSのsipsコマンドによりHEIC画像をJPEG画像に変換して表示します。変換に時間を要しますが、高画質です。|
|変換しない|HEIF image decoderが利用可能な場合はこれを選択してください。|

### デバッグ

通常はオフにしてください。


